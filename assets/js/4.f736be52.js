(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{277:function(e,t,a){e.exports=a.p+"assets/img/macrecovery.af5c41c1.png"},278:function(e,t,a){e.exports=a.p+"assets/img/download-done.05d30da0.png"},299:function(e,t,a){e.exports=a.p+"assets/img/unknown-13.2dca606f.png"},430:function(e,t,a){e.exports=a.p+"assets/img/unknown-5.0cee0d3a.png"},431:function(e,t,a){e.exports=a.p+"assets/img/unknown-6.c65407b2.png"},432:function(e,t,a){e.exports=a.p+"assets/img/unknown-8.21d65816.png"},433:function(e,t,a){e.exports=a.p+"assets/img/unknown-9.d7a601da.png"},434:function(e,t,a){e.exports=a.p+"assets/img/unknown-11.0cee0d3a.png"},435:function(e,t,a){e.exports=a.p+"assets/img/unknown-12.c65407b2.png"},436:function(e,t,a){e.exports=a.p+"assets/img/unknown-14.21d65816.png"},437:function(e,t,a){e.exports=a.p+"assets/img/unknown-15.4ec42b10.png"},438:function(e,t,a){e.exports=a.p+"assets/img/unknown-16.a34cfc74.png"},439:function(e,t,a){e.exports=a.p+"assets/img/unknown-17.d7a601da.png"},440:function(e,t,a){e.exports=a.p+"assets/img/unknown-18.4d8a1388.png"},441:function(e,t,a){e.exports=a.p+"assets/img/unknown-20.7e0e5028.png"},442:function(e,t,a){e.exports=a.p+"assets/img/unknown-21.04611101.png"},590:function(e,t,a){"use strict";a.r(t);var o=a(10),r=Object(o.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"making-the-installer-in-linux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#making-the-installer-in-linux"}},[e._v("#")]),e._v(" Making the installer in Linux")]),e._v(" "),t("p",[e._v("While you don't need a fresh install of macOS to use OpenCore, some users prefer having a fresh slate with their boot manager upgrades.")]),e._v(" "),t("p",[e._v("To start you'll need the following:")]),e._v(" "),t("ul",[t("li",[e._v("4GB USB Stick")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/acidanthera/OpenCorePkg/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("macrecovery.py"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"downloading-macos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#downloading-macos"}},[e._v("#")]),e._v(" Downloading macOS")]),e._v(" "),t("p",[e._v("Now to start, first cd into "),t("a",{attrs:{href:"https://github.com/acidanthera/OpenCorePkg/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("macrecovery's folder"),t("OutboundLink")],1),e._v(" and run one of the following commands:")]),e._v(" "),t("p",[t("img",{attrs:{src:a(277),alt:""}})]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Adjust below command to the correct folder")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/Downloads/OpenCore-0/Utilities/macrecovery/\n")])])]),t("p",[e._v("Next, run one of the following commands depending on the OS you'd like to boot:")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Lion (10.7):")]),e._v("\npython3 ./macrecovery.py "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-2E6FAB96566FE58C "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000F25Y00 download\npython3 ./macrecovery.py "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-C3EC7CD22292981F "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000F0HM00 download\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Mountain Lion (10.8):")]),e._v("\npython3 ./macrecovery.py "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-7DF2A3B5E5D671ED "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000F65100 download\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Mavericks (10.9):")]),e._v("\npython3 ./macrecovery.py "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-F60DEB81FF30ACF6 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000FNN100 download\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Yosemite (10.10):")]),e._v("\npython3 ./macrecovery.py "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-E43C1C25D4880AD6 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000GDVW00 download\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# El Capitan (10.11):")]),e._v("\npython3 ./macrecovery.py "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-FFE5EF870D7BA81A "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000GQRX00 download\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Sierra (10.12):")]),e._v("\npython3 ./macrecovery.py "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-77F17D7DA9285301 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000J0DX00 download\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# High Sierra (10.13)")]),e._v("\npython3 ./macrecovery.py "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-7BA5B2D9E42DDD94 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000J80300 download\npython3 ./macrecovery.py "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-BE088AF8C5EB4FA2 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000J80300 download\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Mojave (10.14)")]),e._v("\npython3 ./macrecovery.py "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-7BA5B2DFE22DDD8C "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000KXPG00 download\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Catalina (10.15)")]),e._v("\npython3 ./macrecovery.py "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-00BE6ED71E35EB86 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000000000 download\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Big Sur (11)")]),e._v("\npython3 ./macrecovery.py "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-42FD25EABCABB274 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000000000 download\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Monterey (12)")]),e._v("\npython3 ./macrecovery.py "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-FFE5EF870D7BA81A "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000000000 download\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Latest version")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ie. Ventura (13)")]),e._v("\npython3 ./macrecovery.py "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-4B682C642B45593E "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000000000 download\n")])])]),t("p",[e._v("From here, run one of those commands in terminal and once finished you'll get an output similar to this:")]),e._v(" "),t("p",[t("img",{attrs:{src:a(278),alt:""}})]),e._v(" "),t("ul",[t("li",[t("p",[t("strong",[e._v("Note")]),e._v(": Depending on the OS, you'll either get BaseSystem or RecoveryImage files. They both act in the same manner so when we reference BaseSystem the same info applies to RecoveryImage")])]),e._v(" "),t("li",[t("p",[t("strong",[e._v("macOS 12 and above note")]),e._v(": As recent macOS versions introduce changes to the USB stack, it is highly advisable that you map your USB ports (with USBToolBox) before installing macOS.")]),e._v(" "),t("ul",[t("li",[t("span",{staticStyle:{color:"red"}},[e._v(" CAUTION: ")]),e._v(" With macOS 11.3 and newer, "),t("a",{attrs:{href:"https://github.com/dortania/bugtracker/issues/162",target:"_blank",rel:"noopener noreferrer"}},[e._v("XhciPortLimit is broken resulting in boot loops"),t("OutboundLink")],1),e._v(".\n"),t("ul",[t("li",[e._v("If you've already "),t("a",{attrs:{href:"https://dortania.github.io/OpenCore-Post-Install/usb/",target:"_blank",rel:"noopener noreferrer"}},[e._v("mapped your USB ports"),t("OutboundLink")],1),e._v(" and disabled "),t("code",[e._v("XhciPortLimit")]),e._v(", you can boot macOS 11.3+ without issues.")])])])])])]),e._v(" "),t("h2",{attrs:{id:"making-the-installer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#making-the-installer"}},[e._v("#")]),e._v(" Making the installer")]),e._v(" "),t("p",[e._v("This section will target making the necessary partitions in the USB device. You can use your favorite program be it "),t("code",[e._v("gdisk")]),e._v(" "),t("code",[e._v("fdisk")]),e._v(" "),t("code",[e._v("parted")]),e._v(" "),t("code",[e._v("gparted")]),e._v(" or "),t("code",[e._v("gnome-disks")]),e._v(". This guide will focus on "),t("code",[e._v("gdisk")]),e._v(" as it's nice and can change the partition type later on, as we need it so that macOS Recovery HD can boot. (the distro used here is Ubuntu 18.04, other versions or distros may work)")]),e._v(" "),t("p",[e._v("Credit to "),t("a",{attrs:{href:"https://github.com/midi1996",target:"_blank",rel:"noopener noreferrer"}},[e._v("midi1996"),t("OutboundLink")],1),e._v(" for his work on the "),t("a",{attrs:{href:"https://midi1996.github.io/hackintosh-internet-install-gitbook/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Internet Install Guide"),t("OutboundLink")],1),e._v(" guide which this is based off of.")]),e._v(" "),t("h3",{attrs:{id:"method-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#method-1"}},[e._v("#")]),e._v(" Method 1")]),e._v(" "),t("p",[e._v("In terminal:")]),e._v(" "),t("ol",[t("li",[e._v("run "),t("code",[e._v("lsblk")]),e._v(" and determine your USB device block\n"),t("img",{attrs:{src:a(430),alt:"lsblk"}})]),e._v(" "),t("li",[e._v("run "),t("code",[e._v("sudo gdisk /dev/<your USB block>")]),e._v(" "),t("ol",[t("li",[e._v("if you're asked what partition table to use, select GPT.\n"),t("img",{attrs:{src:a(431),alt:"Select GPT"}})]),e._v(" "),t("li",[e._v("send "),t("code",[e._v("p")]),e._v(" to print your block's partitions (and verify it's the one needed)\n"),t("img",{attrs:{src:a(299),alt:""}})]),e._v(" "),t("li",[e._v("send "),t("code",[e._v("o")]),e._v(" to clear the partition table and make a new GPT one (if not empty)\n"),t("ol",[t("li",[e._v("confirm with "),t("code",[e._v("y")]),e._v(" "),t("img",{attrs:{src:a(432),alt:""}})])])]),e._v(" "),t("li",[e._v("send "),t("code",[e._v("n")]),e._v(" "),t("ol",[t("li",[t("code",[e._v("partition number")]),e._v(": keep blank for default")]),e._v(" "),t("li",[t("code",[e._v("first sector")]),e._v(": keep blank for default")]),e._v(" "),t("li",[t("code",[e._v("last sector")]),e._v(": keep blank for whole disk")]),e._v(" "),t("li",[t("code",[e._v("Hex code or GUID")]),e._v(": "),t("code",[e._v("0700")]),e._v(" for Microsoft basic data partition type")])])]),e._v(" "),t("li",[e._v("send "),t("code",[e._v("w")]),e._v(" "),t("ul",[t("li",[e._v("Confirm with "),t("code",[e._v("y")]),e._v(" "),t("img",{attrs:{src:a(433),alt:""}})]),e._v(" "),t("li",[e._v("In some cases a reboot is needed, but rarely, if you want to be sure, reboot your computer. You can also try re-plugging your USB key.")])])]),e._v(" "),t("li",[e._v("Close "),t("code",[e._v("gdisk")]),e._v(" by sending "),t("code",[e._v("q")]),e._v(" (normally it should quit on its own)")])])]),e._v(" "),t("li",[e._v("Use "),t("code",[e._v("lsblk")]),e._v(" to determine your partition's identifiers")]),e._v(" "),t("li",[e._v("run "),t("code",[e._v('sudo mkfs.vfat -F 32 -n "OPENCORE" /dev/<your USB partition block>')]),e._v(" to format your USB to FAT32 and named OPENCORE")]),e._v(" "),t("li",[e._v("then "),t("code",[e._v("cd")]),e._v(" to "),t("code",[e._v("/OpenCore/Utilities/macrecovery/")]),e._v(" and you should get to a "),t("code",[e._v(".dmg")]),e._v(" and "),t("code",[e._v(".chunklist")]),e._v(" files\n"),t("ol",[t("li",[e._v("mount your USB partition with "),t("code",[e._v("udisksctl")]),e._v(" ("),t("code",[e._v("udisksctl mount -b /dev/<your USB partition block>")]),e._v(", no sudo required in most cases) or with "),t("code",[e._v("mount")]),e._v(" ("),t("code",[e._v("sudo mount /dev/<your USB partition block> /where/your/mount/stuff")]),e._v(", sudo is required)")]),e._v(" "),t("li",[t("code",[e._v("cd")]),e._v(" to your USB drive and "),t("code",[e._v("mkdir com.apple.recovery.boot")]),e._v(" in the root of your FAT32 USB partition")]),e._v(" "),t("li",[e._v("now "),t("code",[e._v("cp")]),e._v(" or "),t("code",[e._v("rsync")]),e._v(" both "),t("code",[e._v("BaseSystem.dmg")]),e._v(" and "),t("code",[e._v("BaseSystem.chunklist")]),e._v(" into "),t("code",[e._v("com.apple.recovery.boot")]),e._v(" folder.")])])])]),e._v(" "),t("h3",{attrs:{id:"method-2-in-case-1-didn-t-work"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#method-2-in-case-1-didn-t-work"}},[e._v("#")]),e._v(" Method 2 (in case 1 didn't work)")]),e._v(" "),t("p",[e._v("In terminal:")]),e._v(" "),t("ol",[t("li",[e._v("run "),t("code",[e._v("lsblk")]),e._v(" and determine your USB device block\n"),t("img",{attrs:{src:a(434),alt:""}})]),e._v(" "),t("li",[e._v("run "),t("code",[e._v("sudo gdisk /dev/<your USB block>")]),e._v(" "),t("ol",[t("li",[e._v("if you're asked what partition table to use, select GPT.\n"),t("img",{attrs:{src:a(435),alt:""}})]),e._v(" "),t("li",[e._v("send "),t("code",[e._v("p")]),e._v(" to print your block's partitions (and verify it's the one needed)\n"),t("img",{attrs:{src:a(299),alt:""}})]),e._v(" "),t("li",[e._v("send "),t("code",[e._v("o")]),e._v(" to clear the partition table and make a new GPT one (if not empty)\n"),t("ol",[t("li",[e._v("confirm with "),t("code",[e._v("y")]),e._v(" "),t("img",{attrs:{src:a(436),alt:""}})])])]),e._v(" "),t("li",[e._v("send "),t("code",[e._v("n")]),e._v(" "),t("ol",[t("li",[e._v("partition number: keep blank for default")]),e._v(" "),t("li",[e._v("first sector: keep blank for default")]),e._v(" "),t("li",[e._v("last sector: "),t("code",[e._v("+200M")]),e._v(" to create a 200MB partition that will be named later on OPENCORE")]),e._v(" "),t("li",[e._v("Hex code or GUID: "),t("code",[e._v("0700")]),e._v(" for Microsoft basic data partition type\n"),t("img",{attrs:{src:a(437),alt:""}})])])]),e._v(" "),t("li",[e._v("send "),t("code",[e._v("n")]),e._v(" "),t("ol",[t("li",[e._v("partition number: keep blank for default")]),e._v(" "),t("li",[e._v("first sector: keep blank for default")]),e._v(" "),t("li",[e._v("last sector: keep black for default (or you can make it "),t("code",[e._v("+3G")]),e._v(" if you want to partition further the rest of the USB)")]),e._v(" "),t("li",[e._v("Hex code or GUID: "),t("code",[e._v("af00")]),e._v(" for Apple HFS/HFS+ partition type\n"),t("img",{attrs:{src:a(438),alt:""}})])])]),e._v(" "),t("li",[e._v("send "),t("code",[e._v("w")]),e._v(" "),t("ul",[t("li",[e._v("Confirm with "),t("code",[e._v("y")]),e._v(" "),t("img",{attrs:{src:a(439),alt:""}})]),e._v(" "),t("li",[e._v("In some cases a reboot is needed, but rarely, if you want to be sure, reboot your computer. You can also try re-plugging your USB key.")])])]),e._v(" "),t("li",[e._v("Close "),t("code",[e._v("gdisk")]),e._v(" by sending "),t("code",[e._v("q")]),e._v(" (normally it should quit on its own)")])])]),e._v(" "),t("li",[e._v("Use "),t("code",[e._v("lsblk")]),e._v(" again to determine the 200MB drive and the other partition\n"),t("img",{attrs:{src:a(440),alt:""}})]),e._v(" "),t("li",[e._v("run "),t("code",[e._v('sudo mkfs.vfat -F 32 -n "OPENCORE" /dev/<your 200MB partition block>')]),e._v(" to format the 200MB partition to FAT32, named OPENCORE")]),e._v(" "),t("li",[e._v("then "),t("code",[e._v("cd")]),e._v(" to "),t("code",[e._v("/OpenCore/Utilities/macrecovery/")]),e._v(" and you should get to a "),t("code",[e._v(".dmg")]),e._v(" and "),t("code",[e._v(".chunklist")]),e._v(" files\n"),t("ol",[t("li",[e._v("mount your USB partition with "),t("code",[e._v("udisksctl")]),e._v(" ("),t("code",[e._v("udisksctl mount -b /dev/<your 200MB partition block>")]),e._v(", no sudo required in most cases) or with "),t("code",[e._v("mount")]),e._v(" ("),t("code",[e._v("sudo mount /dev/<your 200MB partition block> /where/your/mount/stuff")]),e._v(", sudo is required)")]),e._v(" "),t("li",[t("code",[e._v("cd")]),e._v(" to your USB drive and "),t("code",[e._v("mkdir com.apple.recovery.boot")]),e._v(" in the root of your FAT32 USB partition")]),e._v(" "),t("li",[e._v("download "),t("code",[e._v("dmg2img")]),e._v(" (available on most distros)")]),e._v(" "),t("li",[e._v("run "),t("code",[e._v("dmg2img -l BaseSystem.dmg")]),e._v(" and determine which partition has "),t("code",[e._v("disk image")]),e._v(" property\n"),t("img",{attrs:{src:a(441),alt:""}})]),e._v(" "),t("li",[e._v("run "),t("code",[e._v("sudo dmg2img -p <the partition number> BaseSystem.dmg /dev/<your 3GB+ partition block>")]),e._v(" to extract and write the recovery image to the partition disk\n"),t("ul",[t("li",[e._v("It will take some time. A LOT if you're using a slow USB (took me about less than 5 minutes with a fast USB2.0 drive).\n"),t("img",{attrs:{src:a(442),alt:""}})])])])])])]),e._v(" "),t("h2",{attrs:{id:"now-with-all-this-done-head-to-setting-up-the-efi-to-finish-up-your-work"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#now-with-all-this-done-head-to-setting-up-the-efi-to-finish-up-your-work"}},[e._v("#")]),e._v(" Now with all this done, head to "),t("RouterLink",{attrs:{to:"/installer-guide/opencore-efi.html"}},[e._v("Setting up the EFI")]),e._v(" to finish up your work")],1)])}),[],!1,null,null,null);t.default=r.exports}}]);