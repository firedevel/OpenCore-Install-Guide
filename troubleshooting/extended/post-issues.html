<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Post-Install Issues | OpenCore 安装指南</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.8f7fd827.css" as="style"><link rel="preload" href="/assets/js/app.2263789f.js" as="script"><link rel="preload" href="/assets/js/2.e1091bd1.js" as="script"><link rel="preload" href="/assets/js/42.415442f0.js" as="script"><link rel="prefetch" href="/assets/js/10.49fd36a2.js"><link rel="prefetch" href="/assets/js/11.da5c3e82.js"><link rel="prefetch" href="/assets/js/12.53984f7f.js"><link rel="prefetch" href="/assets/js/13.d5924eee.js"><link rel="prefetch" href="/assets/js/14.2686d113.js"><link rel="prefetch" href="/assets/js/15.1e4ff16e.js"><link rel="prefetch" href="/assets/js/16.b9e9435b.js"><link rel="prefetch" href="/assets/js/17.b7618713.js"><link rel="prefetch" href="/assets/js/18.1340da1d.js"><link rel="prefetch" href="/assets/js/19.aa902120.js"><link rel="prefetch" href="/assets/js/20.e2a2af18.js"><link rel="prefetch" href="/assets/js/21.7d7b1a39.js"><link rel="prefetch" href="/assets/js/22.20648851.js"><link rel="prefetch" href="/assets/js/23.3861ffb0.js"><link rel="prefetch" href="/assets/js/24.38663a6d.js"><link rel="prefetch" href="/assets/js/25.b4eda12b.js"><link rel="prefetch" href="/assets/js/26.c5b0e82d.js"><link rel="prefetch" href="/assets/js/27.dc1a7da0.js"><link rel="prefetch" href="/assets/js/28.96cc1050.js"><link rel="prefetch" href="/assets/js/29.e7fe5f32.js"><link rel="prefetch" href="/assets/js/3.93cb9fb2.js"><link rel="prefetch" href="/assets/js/30.692b3933.js"><link rel="prefetch" href="/assets/js/31.17e25492.js"><link rel="prefetch" href="/assets/js/32.98287df8.js"><link rel="prefetch" href="/assets/js/33.fa17e3a9.js"><link rel="prefetch" href="/assets/js/34.92bdc1cd.js"><link rel="prefetch" href="/assets/js/35.ccfd57cd.js"><link rel="prefetch" href="/assets/js/36.43ca2f5e.js"><link rel="prefetch" href="/assets/js/37.fd88a375.js"><link rel="prefetch" href="/assets/js/38.ddaac8bb.js"><link rel="prefetch" href="/assets/js/39.217931e2.js"><link rel="prefetch" href="/assets/js/4.63f90ca9.js"><link rel="prefetch" href="/assets/js/40.dfa3835c.js"><link rel="prefetch" href="/assets/js/41.f539607f.js"><link rel="prefetch" href="/assets/js/43.65acacec.js"><link rel="prefetch" href="/assets/js/44.72b7e849.js"><link rel="prefetch" href="/assets/js/45.4757ae71.js"><link rel="prefetch" href="/assets/js/46.2c2daafc.js"><link rel="prefetch" href="/assets/js/47.9f6687ce.js"><link rel="prefetch" href="/assets/js/48.880bd16c.js"><link rel="prefetch" href="/assets/js/49.29485ae6.js"><link rel="prefetch" href="/assets/js/5.ed08f389.js"><link rel="prefetch" href="/assets/js/50.8ca946ff.js"><link rel="prefetch" href="/assets/js/51.0872319b.js"><link rel="prefetch" href="/assets/js/52.dd69e1b2.js"><link rel="prefetch" href="/assets/js/53.f56e31eb.js"><link rel="prefetch" href="/assets/js/54.feb8edab.js"><link rel="prefetch" href="/assets/js/55.cdffd61f.js"><link rel="prefetch" href="/assets/js/56.204ea446.js"><link rel="prefetch" href="/assets/js/57.b9102c1f.js"><link rel="prefetch" href="/assets/js/58.4d870506.js"><link rel="prefetch" href="/assets/js/59.ee5edfa0.js"><link rel="prefetch" href="/assets/js/6.31636be6.js"><link rel="prefetch" href="/assets/js/60.c2f1cf08.js"><link rel="prefetch" href="/assets/js/61.28ea2110.js"><link rel="prefetch" href="/assets/js/62.dc443897.js"><link rel="prefetch" href="/assets/js/63.b830962c.js"><link rel="prefetch" href="/assets/js/64.58decab7.js"><link rel="prefetch" href="/assets/js/65.4046b866.js"><link rel="prefetch" href="/assets/js/66.5eca4de5.js"><link rel="prefetch" href="/assets/js/67.37e4055f.js"><link rel="prefetch" href="/assets/js/68.5a5b276a.js"><link rel="prefetch" href="/assets/js/69.0bc3926c.js"><link rel="prefetch" href="/assets/js/7.627c857e.js"><link rel="prefetch" href="/assets/js/70.ab7579ab.js"><link rel="prefetch" href="/assets/js/71.f8c845ec.js"><link rel="prefetch" href="/assets/js/72.37e8c532.js"><link rel="prefetch" href="/assets/js/73.16a3ae2c.js"><link rel="prefetch" href="/assets/js/74.b8fe9964.js"><link rel="prefetch" href="/assets/js/75.841217ff.js"><link rel="prefetch" href="/assets/js/76.9eebbfe5.js"><link rel="prefetch" href="/assets/js/77.03f98058.js"><link rel="prefetch" href="/assets/js/78.b21b1f8e.js"><link rel="prefetch" href="/assets/js/79.3cc002ac.js"><link rel="prefetch" href="/assets/js/8.181c5986.js"><link rel="prefetch" href="/assets/js/80.7b856aee.js"><link rel="prefetch" href="/assets/js/9.4833d66d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f7fd827.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">OpenCore 安装指南</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/troubleshooting/extended/post-issues.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  en-US
</a></li><li class="dropdown-item"><!----> <a href="/zh/" class="nav-link">
  zh-CN
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/troubleshooting/extended/post-issues.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  en-US
</a></li><li class="dropdown-item"><!----> <a href="/zh/" class="nav-link">
  zh-CN
</a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="post-install-issues"><a href="#post-install-issues" class="header-anchor">#</a> Post-Install Issues</h1> <p>Issues revolving around macOS once properly installed.</p> <p></p><div class="table-of-contents"><ul><li><a href="#broken-imessage-and-siri">Broken iMessage and Siri</a></li><li><a href="#no-on-board-audio">No on-board audio</a></li><li><a href="#bios-reset-or-sent-into-safemode-after-reboot-shutdown">BIOS reset or sent into Safemode after reboot/shutdown</a></li><li><a href="#synaptics-ps2-based-trackpad-doesn-t-work">Synaptics PS2 based trackpad doesn't work</a></li><li><a href="#fix-for-dell-breakless-ps2-keyboard-keys">Fix for Dell breakless PS2 keyboard keys</a></li><li><a href="#macos-gpu-acceleration-missing-on-amd-x570">macOS GPU acceleration missing on AMD X570</a></li><li><a href="#drm-broken">DRM Broken</a></li><li><a href="#memory-modules-misconfigured-on-macpro7-1">&quot;Memory Modules Misconfigured&quot; on MacPro7,1</a></li><li><a href="#apps-crashing-on-amd">Apps crashing on AMD</a></li><li><a href="#sleep-crashing-on-amd">Sleep crashing on AMD</a></li><li><a href="#assetcache-content-caching-unavailable-in-virtual-machine">AssetCache Content Caching unavailable in virtual machine</a></li><li><a href="#coffee-lake-systems-failing-to-wake">Coffee Lake systems failing to wake</a></li><li><a href="#no-brightness-control-on-dual-gpu-laptops">No brightness control on Dual GPU laptops</a></li><li><a href="#no-temperature-fan-sensor-output">No temperature/fan sensor output</a></li><li><a href="#you-can-t-change-the-startup-disk-to-the-selected-disk-error">&quot;You can't change the startup disk to the selected disk&quot; error</a></li><li><a href="#selecting-startup-disk-doesn-t-apply-correctly">Selecting Startup Disk doesn't apply correctly</a></li><li><a href="#macos-waking-up-with-the-wrong-time">macOS waking up with the wrong time</a></li><li><a href="#no-volume-brightness-control-on-external-monitors">No Volume/Brightness control on external monitors</a></li><li><a href="#time-inconsistency-between-macos-and-windows">Time inconsistency between macOS and Windows</a></li><li><a href="#disabling-sip">Disabling SIP</a></li><li><a href="#writing-to-the-macos-system-partition">Writing to the macOS system partition</a></li><li><a href="#rolling-back-apfs-snapshots">Rolling back APFS Snapshots</a></li><li><a href="#apple-watch-unlock-issues">Apple Watch Unlock issues</a></li><li><a href="#_4k-igpu-output-issues-over-hdmi">4K iGPU output issues over HDMI</a></li></ul></div><p></p> <h2 id="broken-imessage-and-siri"><a href="#broken-imessage-and-siri" class="header-anchor">#</a> Broken iMessage and Siri</h2> <p>Refer to <a href="https://dortania.github.io/OpenCore-Post-Install/universal/iservices.html" target="_blank" rel="noopener noreferrer">Fixing iServices<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> section</p> <h2 id="no-on-board-audio"><a href="#no-on-board-audio" class="header-anchor">#</a> No on-board audio</h2> <p>Refer to <a href="https://dortania.github.io/OpenCore-Post-Install/" target="_blank" rel="noopener noreferrer">Fixing Audio with AppleALC<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> section</p> <h2 id="bios-reset-or-sent-into-safemode-after-reboot-shutdown"><a href="#bios-reset-or-sent-into-safemode-after-reboot-shutdown" class="header-anchor">#</a> BIOS reset or sent into Safemode after reboot/shutdown</h2> <p>Refer to <a href="https://dortania.github.io/OpenCore-Post-Install/misc/rtc.html" target="_blank" rel="noopener noreferrer">Fixing RTC/CMOS Resets<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> section</p> <h2 id="synaptics-ps2-based-trackpad-doesn-t-work"><a href="#synaptics-ps2-based-trackpad-doesn-t-work" class="header-anchor">#</a> Synaptics PS2 based trackpad doesn't work</h2> <p>You can try to use <a href="https://github.com/acidanthera/VoodooPS2/blob/master/Docs/ACPI/SSDT-Enable_DynamicEWMode.dsl" target="_blank" rel="noopener noreferrer">SSDT-Enable_DynamicEWMode.dsl<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.
First, you have to open Device Manager, and head to the following:</p> <div class="language- extra-class"><pre class="language-text"><code>Device Manager -&gt; Mice and other pointing devices -&gt; Double click on your trackpad -&gt; Properties -&gt; Details &gt; BIOS device name
</code></pre></div><p>Then grab <a href="https://github.com/acidanthera/VoodooPS2/blob/master/Docs/ACPI/SSDT-Enable_DynamicEWMode.dsl" target="_blank" rel="noopener noreferrer">SSDT-Enable_DynamicEWMode.dsl<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
By default, this uses PCI0.LPCB.PS2K for the pathing. you'll want to rename accordingly.</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token function">External</span> <span class="token punctuation">(</span>_SB_<span class="token punctuation">.</span>PCI0<span class="token punctuation">.</span>LPCB<span class="token punctuation">.</span>PS2K<span class="token punctuation">,</span> DeviceObj<span class="token punctuation">)</span> <span class="token operator">&lt;</span><span class="token operator">-</span> Rename this

    <span class="token function">Name</span><span class="token punctuation">(</span>_SB<span class="token punctuation">.</span>PCI0<span class="token punctuation">.</span>LPCB<span class="token punctuation">.</span>PS2K<span class="token punctuation">.</span>RMCF<span class="token punctuation">,</span> <span class="token function">Package</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token operator">&lt;</span><span class="token operator">-</span> Rename this

</code></pre></div><p>Then compile with MaciASL, copy to your OC/ACPI folder, and add it to your config, and you should be good to go.</p> <ul><li>Note: Although this will work for most cases, the trackpad may be laggy and you may not be able to use the physical buttons (<a href="https://github.com/acidanthera/bugtracker/issues/890" target="_blank" rel="noopener noreferrer">more details<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>). If you can live without the trackpad, this may be better:</li></ul> <p>Find the ACPI path of your mouse (see above), then grab <a href="https://github.com/acidanthera/VoodooPS2/blob/master/Docs/ACPI/SSDT-DisableTrackpadProbe.dsl" target="_blank" rel="noopener noreferrer">SSDT-DisableTrackpadProbe.dsl<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. By default, this uses PCI0.LPCB.PS2K so you have to change that to your ACPI path if necessary:</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token function">External</span> <span class="token punctuation">(</span>_SB_<span class="token punctuation">.</span>PCI0<span class="token punctuation">.</span>LPCB<span class="token punctuation">.</span>PS2K<span class="token punctuation">,</span> DeviceObj<span class="token punctuation">)</span> <span class="token operator">&lt;</span><span class="token operator">-</span> Rename this

    <span class="token function">Name</span><span class="token punctuation">(</span>_SB<span class="token punctuation">.</span>PCI0<span class="token punctuation">.</span>LPCB<span class="token punctuation">.</span>PS2K<span class="token punctuation">.</span>RMCF<span class="token punctuation">,</span> <span class="token function">Package</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span><span class="token operator">-</span> Rename this
</code></pre></div><h2 id="fix-for-dell-breakless-ps2-keyboard-keys"><a href="#fix-for-dell-breakless-ps2-keyboard-keys" class="header-anchor">#</a> Fix for Dell breakless PS2 keyboard keys</h2> <p>For those with issues surrounding key presses not releasing(ie. pressing infinitely), you'll want to enable VoodooPS2's Dell profile.</p> <p>First of all, you need to find the path to your ACPI keyboard object in the Device Manager:</p> <div class="language- extra-class"><pre class="language-text"><code>Device Manager -&gt; Keyboards -&gt; Double click on your keyboard -&gt; Properties -&gt; Details &gt; BIOS device name
</code></pre></div><p>After this, grab <a href="https://github.com/acidanthera/VoodooPS2/blob/master/Docs/ACPI/SSDT-KEY-DELL-WN09.dsl" target="_blank" rel="noopener noreferrer">SSDT-KEY-DELL-WN09.dsl<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and change the ACPI path to the one found above as needed:</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token function">External</span> <span class="token punctuation">(</span>_SB_<span class="token punctuation">.</span>PCI0<span class="token punctuation">.</span>LPCB<span class="token punctuation">.</span>PS2K<span class="token punctuation">,</span> DeviceObj<span class="token punctuation">)</span> <span class="token operator">&lt;</span><span class="token operator">-</span> Rename this

    <span class="token function">Method</span><span class="token punctuation">(</span>_SB<span class="token punctuation">.</span>PCI0<span class="token punctuation">.</span>LPCB<span class="token punctuation">.</span>PS2K<span class="token punctuation">.</span>_DSM<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span><span class="token operator">-</span> Rename this
</code></pre></div><h2 id="macos-gpu-acceleration-missing-on-amd-x570"><a href="#macos-gpu-acceleration-missing-on-amd-x570" class="header-anchor">#</a> macOS GPU acceleration missing on AMD X570</h2> <p>Verify the following:</p> <ul><li>GPU is UEFI capable(GTX 7XX/2013+)</li> <li>CSM is off in the BIOS</li> <li>Forcing PCIe 3.0 link speed</li></ul> <h2 id="drm-broken"><a href="#drm-broken" class="header-anchor">#</a> DRM Broken</h2> <p>Refer to <a href="https://dortania.github.io/OpenCore-Post-Install/universal/drm.html" target="_blank" rel="noopener noreferrer">Fixing DRM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> section</p> <h2 id="memory-modules-misconfigured-on-macpro7-1"><a href="#memory-modules-misconfigured-on-macpro7-1" class="header-anchor">#</a> &quot;Memory Modules Misconfigured&quot; on MacPro7,1</h2> <p>Follow guide listed here:</p> <ul><li><a href="https://dortania.github.io/OpenCore-Post-Install/universal/memory.html" target="_blank" rel="noopener noreferrer">Fixing MacPro7,1 Memory Errors<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>For those who simply want to disable the notification(not the error itself) is more than enough. For these users, we recommend installing <a href="https://github.com/acidanthera/RestrictEvents/releases" target="_blank" rel="noopener noreferrer">RestrictEvents<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="apps-crashing-on-amd"><a href="#apps-crashing-on-amd" class="header-anchor">#</a> Apps crashing on AMD</h2> <p><s>Easy fix, buy Intel</s></p> <p>So with AMD, whenever Apple calls CPU specific functions the app will either not work or outright crash. Here are some apps and their &quot;fixes&quot;:</p> <ul><li>Adobe Products don't always work
<ul><li>Some fixes can be found here: <a href="https://adobe.amd-osx.com/" target="_blank" rel="noopener noreferrer">Adobe Fixes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Do note these fixes just disables functionality, they're not really fixes</li></ul></li> <li>Virtual Machine running off of AppleHV's framework will not work(ie: Parallels 15, VMware)
<ul><li>VirtualBox works fine as it doesn't use AppleHV</li> <li>VMware 10 and older can work as well</li> <li>Parallels 13.1.0 and older are known to work as well</li></ul></li> <li>Docker broken
<ul><li>Docker toolbox is the only solution as it's based off of VirtualBox, many features are unavailable with this version</li></ul></li> <li>IDA Pro won't install
<ul><li>There's an Intel specific check in the installer, app itself is likely fine</li></ul></li> <li>15/16h CPU web pages crashing
<ul><li>Follow directions here after UPDATE 5: <a href="https://www.insanelymac.com/forum/topic/335877-amd-mojave-kernel-development-and-testing/?do=findComment&amp;comment=2661857" target="_blank" rel="noopener noreferrer">Fix web pages<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul> <h2 id="sleep-crashing-on-amd"><a href="#sleep-crashing-on-amd" class="header-anchor">#</a> Sleep crashing on AMD</h2> <p>This is generally seen on AMD who use the chipset's USB controller, specifically for the Ryzen series and newer. The main way to tell if you're having issues with this is checking logs after either sleeping or waking:</p> <ul><li>In terminal:
<ul><li><code>log show --last 1d | grep -i &quot;Wake reason&quot;</code></li></ul></li></ul> <p>Should result in something like this:</p> <div class="language- extra-class"><pre class="language-text"><code>Sleep transition timed out after 180 seconds while calling power state change callbacks. Suspected bundle: com.apple.iokit.IOUSBHostFamily.
</code></pre></div><p>You can double check which controller is XHC0 via IOReg and checking the Vendor ID(1022 for AMD chipset). The fix for this sleep issue is either:</p> <ul><li>Avoid the chipset USB all together(ideally set <code>_STA = 0x0</code> to disable the controller outright with an SSDT)</li> <li>Correct the USBX power properties to what the controller expects</li></ul> <h2 id="assetcache-content-caching-unavailable-in-virtual-machine"><a href="#assetcache-content-caching-unavailable-in-virtual-machine" class="header-anchor">#</a> AssetCache Content Caching unavailable in virtual machine</h2> <p>Errors such as:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">sudo</span> AssetCacheManagerUtil activate
AssetCacheManagerUtil<span class="token punctuation">[</span><span class="token punctuation">]</span> Failed to activate content caching: Error <span class="token assign-left variable">Domain</span><span class="token operator">=</span>ACSMErrorDomain <span class="token assign-left variable">Code</span><span class="token operator">=</span><span class="token number">5</span> <span class="token string">&quot;virtual machine&quot;</span><span class="token punctuation">..</span>.
</code></pre></div><p>arise due to <code>VMM</code> flag being exposed by sysctl.</p> <p>Apply <a href="https://github.com/ofawx/VmAssetCacheEnable" target="_blank" rel="noopener noreferrer">VmAssetCacheEnable<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> kernel patch to disguise the flag and allow normal operation.</p> <h2 id="coffee-lake-systems-failing-to-wake"><a href="#coffee-lake-systems-failing-to-wake" class="header-anchor">#</a> Coffee Lake systems failing to wake</h2> <p>In macOS 10.15.4, there were some changes made to AGPM that can cause wake issues on Coffee Lake systems. Specifically displays hooked up to the iGPU would fail to wake. To resolve this:</p> <ul><li>Add <code>igfxonln=1</code> to boot-args</li> <li>Make sure you're using <a href="https://github.com/acidanthera/WhateverGreen/releases" target="_blank" rel="noopener noreferrer">WhateverGreen v1.3.8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or newer</li></ul> <h2 id="no-brightness-control-on-dual-gpu-laptops"><a href="#no-brightness-control-on-dual-gpu-laptops" class="header-anchor">#</a> No brightness control on Dual GPU laptops</h2> <p>In macOS 11.3, there were some changes made to backlight controlling mechanisms that defaults the backlight to be controlled by the dGPU on Dual GPU laptops with MUX enabled. Optimus only laptops, however, are not affected, since you need to disable the dGPU anyways. Specifically, this problem only causes issues if you have a Dual GPU laptop with the internal screen from an iGPU output and external screens from dGPU outputs (<code>Hybrid Mode</code> on some Mobile Workstations). To resolve this, you may disable either the iGPU or the dGPU, or do the following:</p> <ul><li><p>Verify SSDT-PNLF is installed(ie. EFI/OC/ACPI as well as config.plist -&gt; ACPI -&gt; Add)</p></li> <li><p>Add below to <code>PciRoot(0x0)/Pci(0x2,0x0)</code>:</p></li></ul> <p><code>@0,backlight-control | Data | 01000000</code></p> <p><code>applbkl | Data | 01000000</code></p> <p><code>AAPL,backlight-control | Data | 01000000</code></p> <p><code>AAPL00,backlight-control | Data | 01000000</code></p> <ul><li>Add below to your dGPU PCI address:</li></ul> <p><code>@0,backlight-control | Data | 00000000</code></p> <p><code>applbkl | Data | 00000000</code></p> <p><code>AAPL,backlight-control | Data | 00000000</code></p> <h2 id="no-temperature-fan-sensor-output"><a href="#no-temperature-fan-sensor-output" class="header-anchor">#</a> No temperature/fan sensor output</h2> <p>So couple things:</p> <ul><li>iStat Menus doesn't yet support MacPro7,1 readouts</li> <li>VirtualSMC's bundled sensors do not support AMD</li></ul> <p>For iStat, you'll have to wait for an update. For AMD users, you can use either:</p> <ul><li><a href="https://github.com/trulyspinach/SMCAMDProcessor/releases" target="_blank" rel="noopener noreferrer">SMCAMDProcessor<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li>Still in early beta but great work has been done, note it's been mainly tested on Ryzen</li></ul></li> <li><a href="https://github.com/CloverHackyColor/FakeSMC3_with_plugins/releases" target="_blank" rel="noopener noreferrer">FakeSMC3_with_plugins<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><strong>Note for AMD with FakeSMC</strong>:</p> <ul><li>FileVault support requires more work with FakeSMC</li> <li>Make sure no other SMC kexts are present, specifically those from <a href="https://github.com/acidanthera/VirtualSMC/releases" target="_blank" rel="noopener noreferrer">VirtualSMC<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="you-can-t-change-the-startup-disk-to-the-selected-disk-error"><a href="#you-can-t-change-the-startup-disk-to-the-selected-disk-error" class="header-anchor">#</a> &quot;You can't change the startup disk to the selected disk&quot; error</h2> <p>This is commonly caused by irregular partition setup of the Windows drive, specifically that the EFI is not the first partition. To fix this, we need to enable this quirk:</p> <ul><li><code>PlatformInfo -&gt; Generic -&gt; AdviseFeatures -&gt; True</code></li></ul> <p><img src="/assets/img/error.d007cbad.png" alt=""></p> <h2 id="selecting-startup-disk-doesn-t-apply-correctly"><a href="#selecting-startup-disk-doesn-t-apply-correctly" class="header-anchor">#</a> Selecting Startup Disk doesn't apply correctly</h2> <p>If you're having issues with Startup Disk correctly applying your new boot entry, this is most likely caused by a missing <code>DevicePathsSupported</code> in your I/O Registry. To resolve this, ensure you are using <code>PlatformInfo -&gt; Automatic -&gt; True</code></p> <p>Example of missing <code>DevicePathsSupported</code>:</p> <ul><li><a href="https://github.com/acidanthera/bugtracker/issues/664#issuecomment-663873846" target="_blank" rel="noopener noreferrer">Default DevicePath match failure due to different PciRoot #664<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="macos-waking-up-with-the-wrong-time"><a href="#macos-waking-up-with-the-wrong-time" class="header-anchor">#</a> macOS waking up with the wrong time</h2> <p>An odd quirk some people may notice is that from wake, macOS will have the incorrect time for a bit before self-correcting with network time check. The root cause of this issue is most likely due to your RTC not ticking, and can be resolved with a new CMOS battery(note that Z270 and newer are quite picky with voltage so choose carefully).</p> <p>To verify whether your RTC is working correctly:</p> <ul><li>Download <a href="https://github.com/acidanthera/virtualsmc/releases" target="_blank" rel="noopener noreferrer">VirtualSMC v1.1.5+<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and run the smcread tool:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>/path/to/smcread <span class="token parameter variable">-s</span> <span class="token operator">|</span> <span class="token function">grep</span> CLKT
</code></pre></div><p><img src="/assets/img/rtc-1.c7c81813.png" alt=""></p> <p>This should provide you with a hexadecimal value, and once converted it should equal time elapsed from Midnight relative to Cupertino.</p> <p>So for this example, we'll grab our value(<code>00010D13</code>) then convert it to decimal and finally divide it by 3600. This should result in the approximate time elapsed(in seconds) since midnight relative to Cupertino</p> <ul><li>00010D13 (Convert to HEX)-&gt; 68883 (Divided by 3600 so we get hours)-&gt; 19.13h(so 19:07:48)</li></ul> <p>Next you'll want to put your hack to sleep for a bit and wake it, then check the CLKT value once more to see whether it deviated more or if it has a set difference. If you find it didn't actually tick much of at all from the elapsed time, you'll need to look into buying a new battery(with proper voltage)</p> <h2 id="no-volume-brightness-control-on-external-monitors"><a href="#no-volume-brightness-control-on-external-monitors" class="header-anchor">#</a> No Volume/Brightness control on external monitors</h2> <p>Oddly enough, macOS has locked down digital audio from having control. To bring back some functionality, the app <a href="https://github.com/the0neyouseek/MonitorControl/releases" target="_blank" rel="noopener noreferrer">MonitorControl<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> has done great work on improving support in macOS</p> <h2 id="time-inconsistency-between-macos-and-windows"><a href="#time-inconsistency-between-macos-and-windows" class="header-anchor">#</a> Time inconsistency between macOS and Windows</h2> <p>This is due to macOS using Universal Time while Windows relies on Greenwich time, so you'll need to force one OS to a different way of measuring time. We highly recommend modifying Windows instead as it's far less destructive and painful:</p> <ul><li><a href="https://dortania.github.io/OpenCore-Post-Install/multiboot/bootcamp.html" target="_blank" rel="noopener noreferrer">Install Bootcamp utilities<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://superuser.com/q/494432" target="_blank" rel="noopener noreferrer">Modify Windows' registry<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="disabling-sip"><a href="#disabling-sip" class="header-anchor">#</a> Disabling SIP</h2> <p>SIP or more properly known as System Integrity Protection, is a security technology that attempts to prevent any malicious software and the end user from damaging the OS. First introduced with OS X El Capitan, SIP has grown over time to control more and more things in macOS, including limiting edits to restricted file locations and 3rd party kext loading with <code>kextload</code>(OpenCore is unaffected as kexts are injected at boot). To resolve this, Apple has provided numerous configuration options in the NVRAM variable <code>csr-active-config</code> which can either be set in the macOS recovery environment or with OpenCore's NVRAM section(The latter will be discussed below).</p> <ul><li><span style="color:red;">WARNING:</span> Disabling SIP can break OS functionality such as software updates in macOS 11, Big Sur and newer. Please be careful to only disable specific SIP values instead of disabling SIP outright to avoid these issues.
<ul><li>Enabling <code>CSR_ALLOW_UNAUTHENTICATED_ROOT</code> and <code>CSR_ALLOW_APPLE_INTERNAL</code> are common options that can break OS updates for users</li></ul></li></ul> <p>You can choose different values to enable or disable certain flags of SIP. Some useful tools to help you with these are <a href="https://github.com/corpnewt/BitmaskDecode" target="_blank" rel="noopener noreferrer">BitmaskDecode<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://github.com/JayBrown/csrstat-NG" target="_blank" rel="noopener noreferrer">csrstat<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Common values are as follows (bytes are pre-hex swapped for you, and note that they go under NVRAM -&gt; Add -&gt; 7C436110-AB2A-4BBB-A880-FE41995C9F82 -&gt; csr-active-config):</p> <ul><li><code>00000000</code> - SIP completely enabled (0x0).</li> <li><code>03000000</code> - Disable kext signing (0x1) and filesystem protections (0x2).</li> <li><code>FF030000</code> - Disable all <a href="https://opensource.apple.com/source/xnu/xnu-4570.71.2/bsd/sys/csr.h.auto.html" target="_blank" rel="noopener noreferrer">flags in macOS High Sierra<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (0x3ff).</li> <li><code>FF070000</code> - Disable all <a href="https://opensource.apple.com/source/xnu/xnu-4903.270.47/bsd/sys/csr.h.auto.html" target="_blank" rel="noopener noreferrer">flags in macOS Mojave<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and in <a href="https://opensource.apple.com/source/xnu/xnu-6153.81.5/bsd/sys/csr.h.auto.html" target="_blank" rel="noopener noreferrer">macOS Catalina<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (0x7ff) as Apple introduced a value for executable policy.</li> <li><code>FF0F0000</code> - Disable all flags in macOS Big Sur (0xfff) which has another new <a href="https://eclecticlight.co/2020/06/25/big-surs-signed-system-volume-added-security-protection/" target="_blank" rel="noopener noreferrer">flag for authenticated root<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</li></ul> <p><strong>Note</strong>: Disabling SIP with OpenCore is quite a bit different compared to Clover, specifically that NVRAM variables will not be overwritten unless explicitly told so under the <code>Delete</code> section. So if you've already set SIP once either via OpenCore or in macOS, you must override the variable:</p> <ul><li><code>NVRAM -&gt; Delete -&gt; 7C436110-AB2A-4BBB-A880-FE41995C9F82 -&gt; csr-active-config</code></li></ul> <p><img src="/assets/img/sip.904350e6.png" alt=""></p> <h2 id="writing-to-the-macos-system-partition"><a href="#writing-to-the-macos-system-partition" class="header-anchor">#</a> Writing to the macOS system partition</h2> <p>With macOS Catalina and newer, Apple split the OS and user data into 2 volumes where the system volume is read-only by default. To make these drives writable we'll need to do a few things:</p> <ul><li>Note: Users of <code>SecureBootModel</code> may end up in a RecoveryOS boot loop if the system partition has been modified. To resolve this, Reset NVRAM and set <code>SecureBootModel</code> to <code>Disabled</code></li></ul> <p><strong>macOS Catalina</strong></p> <ol><li><a href="#disabling-sip">Disable SIP</a></li> <li>Mount drive as writable (Run <code>sudo mount -uw /</code> in terminal)</li></ol> <p><strong>macOS Big Sur</strong></p> <ol><li><a href="#disabling-sip">Disable SIP</a></li> <li>Mount drive as writable (See below link for command)</li></ol> <ul><li>Note: Due to how OS updates work in macOS Big Sur and newer, changing the system volume can in fact break OS updates. Please edit with caution</li></ul> <p>Commands based off of Apple's KDK documents:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># First, create a mount point for your drive</span>
<span class="token function">mkdir</span> ~/livemount

<span class="token comment"># Next, find your System volume</span>
diskutil list

<span class="token comment"># From the below list, we can see our System volume is disk5s5</span>
/dev/disk5 <span class="token punctuation">(</span>synthesized<span class="token punctuation">)</span>:
   <span class="token comment">#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
   <span class="token number">0</span>:      APFS Container Scheme -                      +255.7 GB   disk5
                                 Physical Store disk4s2
   <span class="token number">1</span>:                APFS Volume ⁨Big Sur HD - Data⁩       <span class="token number">122.5</span> GB   disk5s1
   <span class="token number">2</span>:                APFS Volume ⁨Preboot⁩                 <span class="token number">309.4</span> MB   disk5s2
   <span class="token number">3</span>:                APFS Volume ⁨Recovery⁩                <span class="token number">887.8</span> MB   disk5s3
   <span class="token number">4</span>:                APFS Volume ⁨VM⁩                      <span class="token number">1.1</span> MB     disk5s4
   <span class="token number">5</span>:                APFS Volume ⁨Big Sur HD⁩              <span class="token number">16.2</span> GB    disk5s5
   <span class="token number">6</span>:              APFS Snapshot ⁨com.apple.os.update-<span class="token punctuation">..</span>.⁩ <span class="token number">16.2</span> GB    disk5s5s

<span class="token comment"># Mount the drive(ie. disk5s5)</span>
<span class="token function">sudo</span> <span class="token function">mount</span> <span class="token parameter variable">-o</span> nobrowse <span class="token parameter variable">-t</span> apfs  /dev/disk5s5 ~/livemount

<span class="token comment"># Now you can freely make any edits to the System volume</span>

<span class="token comment"># If you edited either the S*/L*/Kernel, S*/L*/Extensions or L*/Extensions,</span>
<span class="token comment"># you will need to rebuild the kernel cache</span>
<span class="token function">sudo</span> kmutil <span class="token function">install</span> --volume-root ~/livemount --update-all

<span class="token comment"># Finally, once done editing the system volume we'll want to create a new snapshot</span>
<span class="token function">sudo</span> bless <span class="token parameter variable">--folder</span> ~/livemount/System/Library/CoreServices <span class="token parameter variable">--bootefi</span> --create-snapshot
</code></pre></div><h2 id="rolling-back-apfs-snapshots"><a href="#rolling-back-apfs-snapshots" class="header-anchor">#</a> Rolling back APFS Snapshots</h2> <p>With macOS Big Sur, the system volume is now snapshotted allowing you to roll back in case of issues with system updates breaking due to a broken seal. Thanks to new snapshots being created with every OS update, we've got quite a bit to roll back too.</p> <p>To roll back, you'll first need to reboot into Recovery partition then select &quot;Restore From Time Machine Backup&quot;:</p> <p><img src="/assets/img/snapshots.8c7042b6.jpg" alt=""></p> <ul><li><a href="https://www.lifewire.com/roll-back-apfs-snapshots-4154969" target="_blank" rel="noopener noreferrer">Credit to Lifewire for image<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="apple-watch-unlock-issues"><a href="#apple-watch-unlock-issues" class="header-anchor">#</a> Apple Watch Unlock issues</h2> <p>For those with Apple Watch Unlock issues, verify the following:</p> <ul><li>You have a supported Apple Wireless card with Bluetooth Low Energy(4.0+)</li> <li>Your watch and Mac are signed in with the same account</li> <li>iServices working correctly(ie. iMessage)</li> <li>There's an option to Unlock with Apple Watch under Security and Privacy setting in System Preferences</li></ul> <p><img src="/assets/img/watch-unlock.f243b1b0.png" alt=""></p> <p>If the above are met, and you still have unlock issues we recommend running through the below guide:</p> <ul><li><a href="https://forums.macrumors.com/threads/watchos-7-beta-5-unlock-mac-doesnt-work.2250819/page-2?post=28904426#post-28904426" target="_blank" rel="noopener noreferrer">Fixing Auto Unlock<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="_4k-igpu-output-issues-over-hdmi"><a href="#_4k-igpu-output-issues-over-hdmi" class="header-anchor">#</a> 4K iGPU output issues over HDMI</h2> <p>For machines with HDMI 2.0 capable ports with resolution issues, verify the following:</p> <ul><li>4k output works correctly in Windows</li> <li>Monitor is set explicitly to HDMI 2.0
<ul><li>If using an HDMI to DisplayPort converter, ensure the monitor is set to DisplayPort 1.2 or higher</li></ul></li> <li>Ensure enough iGPU memory has been allocated
<ul><li>For Broadwell and newer, 64MB is expected to be allocated</li> <li>Machines relying on WhateverGreen's <code>framebuffer-stolenmem</code> property should know this can cause 4k output issues. Please ensure you can set the iGPU's memory to 64MB allowing you to remove these properties</li></ul></li> <li>Laptops and many desktop users may need this boot-arg:
<ul><li><code>-cdfon</code></li></ul></li></ul> <p>For all other troubleshooting, please reference <a href="https://github.com/acidanthera/WhateverGreen/blob/master/Manual/FAQ.IntelHD.en.md" target="_blank" rel="noopener noreferrer">WhateverGreen's Intel docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2263789f.js" defer></script><script src="/assets/js/2.e1091bd1.js" defer></script><script src="/assets/js/42.415442f0.js" defer></script>
  </body>
</html>
