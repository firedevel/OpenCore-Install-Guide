<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Userspace Issues</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.97195e7a.css" as="style"><link rel="preload" href="/assets/js/app.4a0df197.js" as="script"><link rel="preload" href="/assets/js/3.b17cd5bb.js" as="script"><link rel="preload" href="/assets/js/39.7a53fcb8.js" as="script"><link rel="prefetch" href="/assets/js/10.bad25831.js"><link rel="prefetch" href="/assets/js/11.379c2c39.js"><link rel="prefetch" href="/assets/js/12.88ed1e48.js"><link rel="prefetch" href="/assets/js/13.dae088ad.js"><link rel="prefetch" href="/assets/js/14.ff1adb8b.js"><link rel="prefetch" href="/assets/js/15.de42cac4.js"><link rel="prefetch" href="/assets/js/16.88ec5ff6.js"><link rel="prefetch" href="/assets/js/17.9d021e2a.js"><link rel="prefetch" href="/assets/js/18.2b549af1.js"><link rel="prefetch" href="/assets/js/19.5ae3c7ff.js"><link rel="prefetch" href="/assets/js/20.51a23b9f.js"><link rel="prefetch" href="/assets/js/21.d1461a22.js"><link rel="prefetch" href="/assets/js/22.dbe8bcce.js"><link rel="prefetch" href="/assets/js/23.354dab55.js"><link rel="prefetch" href="/assets/js/24.9223f918.js"><link rel="prefetch" href="/assets/js/25.976008e7.js"><link rel="prefetch" href="/assets/js/26.6bf45667.js"><link rel="prefetch" href="/assets/js/27.9098a8a4.js"><link rel="prefetch" href="/assets/js/28.9cbf9533.js"><link rel="prefetch" href="/assets/js/29.68e3ef07.js"><link rel="prefetch" href="/assets/js/30.6ca98e74.js"><link rel="prefetch" href="/assets/js/31.fb3c25dc.js"><link rel="prefetch" href="/assets/js/32.fd4c8569.js"><link rel="prefetch" href="/assets/js/33.e3aef522.js"><link rel="prefetch" href="/assets/js/34.be150058.js"><link rel="prefetch" href="/assets/js/35.51e0be84.js"><link rel="prefetch" href="/assets/js/36.b8b83e62.js"><link rel="prefetch" href="/assets/js/37.a46b7451.js"><link rel="prefetch" href="/assets/js/38.25773d26.js"><link rel="prefetch" href="/assets/js/4.cfbc4640.js"><link rel="prefetch" href="/assets/js/40.7351e8a3.js"><link rel="prefetch" href="/assets/js/41.bb69e7a2.js"><link rel="prefetch" href="/assets/js/42.bb8a2c09.js"><link rel="prefetch" href="/assets/js/43.69ba91d9.js"><link rel="prefetch" href="/assets/js/44.62eead48.js"><link rel="prefetch" href="/assets/js/45.cdb4fc90.js"><link rel="prefetch" href="/assets/js/46.7e75fbd3.js"><link rel="prefetch" href="/assets/js/47.d86d008d.js"><link rel="prefetch" href="/assets/js/48.0b641437.js"><link rel="prefetch" href="/assets/js/49.4654f886.js"><link rel="prefetch" href="/assets/js/5.f67d5fea.js"><link rel="prefetch" href="/assets/js/50.1b823ccc.js"><link rel="prefetch" href="/assets/js/51.7e994839.js"><link rel="prefetch" href="/assets/js/52.80d9f75b.js"><link rel="prefetch" href="/assets/js/53.130221d5.js"><link rel="prefetch" href="/assets/js/54.8c8f5d08.js"><link rel="prefetch" href="/assets/js/55.f41f81f3.js"><link rel="prefetch" href="/assets/js/56.41943cd7.js"><link rel="prefetch" href="/assets/js/57.81d00d22.js"><link rel="prefetch" href="/assets/js/58.46fa71df.js"><link rel="prefetch" href="/assets/js/59.81d6972e.js"><link rel="prefetch" href="/assets/js/6.cbdb9904.js"><link rel="prefetch" href="/assets/js/60.b9e83f2b.js"><link rel="prefetch" href="/assets/js/61.629d182f.js"><link rel="prefetch" href="/assets/js/62.bcb3407f.js"><link rel="prefetch" href="/assets/js/63.5203cd54.js"><link rel="prefetch" href="/assets/js/64.beeb01a0.js"><link rel="prefetch" href="/assets/js/65.b77f6944.js"><link rel="prefetch" href="/assets/js/66.e08eb2dc.js"><link rel="prefetch" href="/assets/js/67.32d17bf8.js"><link rel="prefetch" href="/assets/js/68.021bee86.js"><link rel="prefetch" href="/assets/js/69.02e0f328.js"><link rel="prefetch" href="/assets/js/7.c3c17d45.js"><link rel="prefetch" href="/assets/js/70.bdc90034.js"><link rel="prefetch" href="/assets/js/71.840436f0.js"><link rel="prefetch" href="/assets/js/72.0e3a5427.js"><link rel="prefetch" href="/assets/js/73.60fc47e0.js"><link rel="prefetch" href="/assets/js/74.1e13674c.js"><link rel="prefetch" href="/assets/js/75.4eb55b78.js"><link rel="prefetch" href="/assets/js/76.6bde1d70.js"><link rel="prefetch" href="/assets/js/77.b69ff9c5.js"><link rel="prefetch" href="/assets/js/78.f7aba6a9.js"><link rel="prefetch" href="/assets/js/79.fbfc5e6f.js"><link rel="prefetch" href="/assets/js/8.dc40b870.js"><link rel="prefetch" href="/assets/js/80.9aa8ef4b.js"><link rel="prefetch" href="/assets/js/81.91c088e6.js"><link rel="prefetch" href="/assets/js/9.2111c083.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.0070987f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.97195e7a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/nested/" class="nav-link">
  Nested
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/nested/" class="nav-link">
  Nested
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="userspace-issues"><a href="#userspace-issues" class="header-anchor">#</a> Userspace Issues</h1> <p>Issues regarding once you've booted the installer and the GUI has loaded.</p> <p></p><div class="table-of-contents"><ul><li><a href="#macos-installer-in-russian">macOS installer in Russian</a></li><li><a href="#macos-installer-being-damaged">macOS Installer being damaged</a></li><li><a href="#stuck-on-or-near-ioconsoleusers-gioscreenlock-giolockstate-3">Stuck on or near IOConsoleUsers: gIOScreenLock.../gIOLockState (3...</a></li><li><a href="#scrambled-screen-on-laptops">Scrambled Screen on laptops</a></li><li><a href="#black-screen-after-ioconsoleusers-gioscreenlock-on-laptops-and-aios">Black screen after IOConsoleUsers: gIOScreenLock... on laptops and AIOs</a></li><li><a href="#black-screen-after-ioconsoleusers-gioscreenlock-on-navi">Black screen after IOConsoleUsers: gIOScreenLock... on Navi</a></li><li><a href="#frozen-in-the-macos-installer-after-30-seconds">Frozen in the macOS installer after 30 seconds</a></li><li><a href="#_15h-16h-cpu-reboot-after-data-privacy-screen">15h/16h CPU reboot after Data &amp; Privacy screen</a></li><li><a href="#macos-frozen-right-before-login">macOS frozen right before login</a></li><li><a href="#mediakit-reports-not-enough-space">MediaKit reports not enough space</a></li><li><a href="#diskutility-failing-to-erase">DiskUtility failing to erase</a></li><li><a href="#sata-drives-not-shown-in-diskutility">SATA Drives Not Shown in DiskUtility</a></li><li><a href="#stuck-at-2-minutes-remaining">Stuck at 2 minutes remaining</a></li><li><a href="#the-recovery-server-cannot-get-contacted">The recovery server cannot get contacted</a></li><li><a href="#keyboard-and-mouse-broken-in-big-sur">Keyboard and Mouse broken in Big Sur</a></li><li><a href="#stuck-on-your-mac-needs-a-firmware-update-in-order-to-install-to-this-volume">Stuck on Your Mac needs a firmware update in order to install to this volume</a></li></ul></div><p></p> <h2 id="macos-installer-in-russian"><a href="#macos-installer-in-russian" class="header-anchor">#</a> macOS installer in Russian</h2> <p>Default sample config is in Russian because slavs rule the Hackintosh world, check your <code>prev-lang:kbd</code> value under <code>NVRAM -&gt; Add -&gt; 7C436110-AB2A-4BBB-A880-FE41995C9F82</code>. Set to <code>656e2d55533a30</code> for American: en-US:0 and a full list can be found in <a href="https://github.com/acidanthera/OpenCorePkg/blob/master/Utilities/AppleKeyboardLayouts/AppleKeyboardLayouts.txt" target="_blank" rel="noopener noreferrer">AppleKeyboardLayouts.txt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. For those using with a simple text editor(ie. UEFI Shell, Notepad++, etc), <code>656e2d55533a30</code> will become <code>ZW4tVVM6MA==</code></p> <p>You may also need to reset NVRAM in the boot picker as well</p> <ul><li>Note: Thinkpad laptops are known to be semi-bricked after an NVRAM reset in OpenCore, we recommend resetting NVRAM by updating the BIOS on these machines.</li></ul> <p>Still didn't work? Well time for the big guns. We'll force remove that exact property and let OpenCore rebuild it:</p> <p><code>NVRAM -&gt; Delete -&gt; 7C436110-AB2A-4BBB-A880-FE41995C9F82 -&gt; Item 0</code> then set it Type <code>String</code> and Value <code>prev-lang:kbd</code></p> <p><img src="/assets/img/lang.cb258f4f.png" alt=""></p> <h2 id="macos-installer-being-damaged"><a href="#macos-installer-being-damaged" class="header-anchor">#</a> macOS Installer being damaged</h2> <p>If you've download macOS before October 2019, you likely have an expired macOS Installer certificate, there's 2 ways to fix this:</p> <ul><li>Download newest copy of macOS</li> <li>Change date in terminal to when the certificate was valid</li></ul> <p>For the latter:</p> <ul><li>Disconnect all networking devices(Ethernet, disable WiFi)</li> <li>In the recovery terminal set to September 1st, 2019:</li></ul> <div class="language- extra-class"><pre class="language-text"><code>date 0901000019
</code></pre></div><h2 id="stuck-on-or-near-ioconsoleusers-gioscreenlock-giolockstate-3"><a href="#stuck-on-or-near-ioconsoleusers-gioscreenlock-giolockstate-3" class="header-anchor">#</a> Stuck on or near <code>IOConsoleUsers: gIOScreenLock...</code>/<code>gIOLockState (3...</code></h2> <p>This is right before the GPU is properly initialized, verify the following:</p> <ul><li>GPU is UEFI capable(GTX 7XX/2013+)</li> <li>CSM is off in the BIOS</li> <li>Forcing PCIe 3.0 link speed</li> <li>Double check that ig-platform-id and device-id are valid if running an iGPU.
<ul><li>Desktop UHD 630's may need to use <code>00009B3E</code> instead</li></ul></li> <li>Trying various <a href="https://github.com/acidanthera/WhateverGreen/blob/master/Manual/FAQ.IntelHD.en.md" target="_blank" rel="noopener noreferrer">WhateverGreen Fixes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li><code>-igfxmlr</code> boot argument. This can also manifest as a &quot;Divide by Zero&quot; error.</li></ul></li> <li>Coffee Lake iGPU users may also need <code>igfxonln=1</code> in 10.15.4 and newer</li></ul> <h2 id="scrambled-screen-on-laptops"><a href="#scrambled-screen-on-laptops" class="header-anchor">#</a> Scrambled Screen on laptops</h2> <p>Enable CSM in your UEFI settings. This may appear as &quot;Boot legacy ROMs&quot; or other legacy setting.</p> <h2 id="black-screen-after-ioconsoleusers-gioscreenlock-on-laptops-and-aios"><a href="#black-screen-after-ioconsoleusers-gioscreenlock-on-laptops-and-aios" class="header-anchor">#</a> Black screen after <code>IOConsoleUsers: gIOScreenLock...</code> on laptops and AIOs</h2> <p>Verify the following:</p> <ul><li>SSDT-PNLF is installed(ie. EFI/OC/ACPI as well as config.plist -&gt; ACPI -&gt; Add)</li> <li>iGPU properties were setup correctly under <code>DeviceProperties -&gt; Add -&gt; PciRoot(0x0)/Pci(0x2,0x0)</code></li> <li>Coffee Lake and newer laptops, add <code>-igfxblr</code> to your boot-args
<ul><li>Alternatively, add <code>enable-backlight-registers-fix | Data | 01000000</code> to <code>PciRoot(0x0)/Pci(0x2,0x0)</code></li></ul></li></ul> <p>Additionally, verify issues mentioned in <a href="#stuck-on-or-near-ioconsoleusers-gioscreenlock-giolockstate-3">Stuck on or near <code>IOConsoleUsers: gIOScreenLock...</code></a></p> <h2 id="black-screen-after-ioconsoleusers-gioscreenlock-on-navi"><a href="#black-screen-after-ioconsoleusers-gioscreenlock-on-navi" class="header-anchor">#</a> Black screen after <code>IOConsoleUsers: gIOScreenLock...</code> on Navi</h2> <ul><li>Add <code>agdpmod=pikera</code> to boot args</li> <li>Switch between different display outputs</li> <li>Try running MacPro7,1 SMBIOS with the boot-arg <code>agdpmod=ignore</code></li></ul> <p>For MSI Navi users, you'll need to apply the patch mentioned here: <a href="https://github.com/acidanthera/bugtracker/issues/901" target="_blank" rel="noopener noreferrer">Installer not working with 5700XT #901<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Specifically, add the following entry under <code>Kernel -&gt; Patch</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>Base:
Comment: Navi VBIOS Bug Patch
Count: 1
Enabled: YES
Find: 4154592C526F6D2300
Identifier: com.apple.kext.AMDRadeonX6000Framebuffer
Limit: 0
Mask:
MinKernel:
MaxKernel:
Replace: 414D442C526F6D2300
ReplaceMask:
Skip: 0
</code></pre></div><h2 id="frozen-in-the-macos-installer-after-30-seconds"><a href="#frozen-in-the-macos-installer-after-30-seconds" class="header-anchor">#</a> Frozen in the macOS installer after 30 seconds</h2> <p>This is likely due to faulty or outright missing NullCPUPowerManagement, the one hosted on AMD OSX's Vanilla Guide is corrupted. Go yell at Shannee to fix it. To fix the issue, remove NullCPUPowerManagement from <code>Kernel -&gt; Add</code> and <code>EFI/OC/Kexts</code> then enable <code>DummyPowerManagement</code> under <code>Kernel -&gt; Emulate</code></p> <h2 id="_15h-16h-cpu-reboot-after-data-privacy-screen"><a href="#_15h-16h-cpu-reboot-after-data-privacy-screen" class="header-anchor">#</a> 15h/16h CPU reboot after Data &amp; Privacy screen</h2> <p>Follow directions here after UPDATE 2: <a href="https://www.insanelymac.com/forum/topic/335877-amd-mojave-kernel-development-and-testing/?do=findComment&amp;comment=2658085" target="_blank" rel="noopener noreferrer">Fix Data and Privacy reboot<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="macos-frozen-right-before-login"><a href="#macos-frozen-right-before-login" class="header-anchor">#</a> macOS frozen right before login</h2> <p>This is a common example of screwed up TSC, for most system add <a href="https://github.com/lvs1974/CpuTscSync" target="_blank" rel="noopener noreferrer">CpuTscSync<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>For Skylake-X, many firmwares including Asus and EVGA won't write to all cores. So we'll need to reset the TSC on cold boot and wake with <a href="https://github.com/interferenc/TSCAdjustReset" target="_blank" rel="noopener noreferrer">TSCAdjustReset<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Compiled version can be found here: <a href="https://github.com/dortania/OpenCore-Install-Guide/blob/master/extra-files/TSCAdjustReset.kext.zip" target="_blank" rel="noopener noreferrer">TSCAdjustReset.kext<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Note that you <strong>must</strong> open up the kext(ShowPackageContents in finder, <code>Contents -&gt; Info.plist</code>) and change the Info.plist -&gt; <code>IOKitPersonalities -&gt; IOPropertyMatch -&gt; IOCPUNumber</code> to the number of CPU threads you have starting from <code>0</code>(i9 7980xe 18 core would be <code>35</code> as it has 36 threads total)</p> <p>The most common way to see the TSC issue:</p> <table><thead><tr><th style="text-align:center;">Case 1</th> <th style="text-align:center;">Case 2</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="/assets/img/asus-tsc.2397797f.png" alt=""></td> <td style="text-align:center;"><img src="/assets/img/asus-tsc-2.029ce318.png" alt=""></td></tr></tbody></table> <h2 id="mediakit-reports-not-enough-space"><a href="#mediakit-reports-not-enough-space" class="header-anchor">#</a> MediaKit reports not enough space</h2> <p>This error is due to a small EFI, by default Windows will create a 100MB EFI whereas macOS will expect 200MB. To get around this you have 2 way to go:</p> <ul><li>Expand the EFI of the drive to 200MB(See Google on how)</li> <li>Format the entire drive instead of just the partition
<ul><li>Note by default Disk Utility only shows partitions, press Cmd/Win+2 to show all devices(Alternatively you can press the view button)</li></ul></li></ul> <table><thead><tr><th style="text-align:center;">Default</th> <th style="text-align:center;">Show All Devices(Cmd+2)</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="/assets/img/Default.5b6ca6c9.png" alt=""></td> <td style="text-align:center;"><img src="/assets/img/Showalldevices.bc11c239.png" alt=""></td></tr></tbody></table> <h2 id="diskutility-failing-to-erase"><a href="#diskutility-failing-to-erase" class="header-anchor">#</a> DiskUtility failing to erase</h2> <p>This is either 1(or more) of 5 issues:</p> <ul><li>Formatting partition and not the drive, see <a href="#mediakit-reports-not-enough-space">MediaKit reports not enough space</a></li> <li>DiskUtility has an odd bug where it will fail on first erase, try erasing again</li> <li>SATA Hot-plug support in the BIOS is causing issues(try disabling this option)</li> <li>Old firmware, make sure the drive is on the latest firmware</li> <li>And finally, you may just have a bad drive</li></ul> <h2 id="sata-drives-not-shown-in-diskutility"><a href="#sata-drives-not-shown-in-diskutility" class="header-anchor">#</a> SATA Drives Not Shown in DiskUtility</h2> <ul><li>Make sure SATA Mode is AHCI in bios</li> <li>Certain SATA controllers may not be officially supported by macOS, for these cases you'll want to grab <a href="https://github.com/dortania/OpenCore-Install-Guide/blob/master/extra-files/CtlnaAHCIPort.kext.zip" target="_blank" rel="noopener noreferrer">CtlnaAHCIPort.kext<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li>For very legacy SATA controllers, <a href="https://www.insanelymac.com/forum/files/file/436-ahciportinjectorkext/" target="_blank" rel="noopener noreferrer">AHCIPortInjector.kext<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> may be more suitable.</li></ul></li></ul> <h2 id="stuck-at-2-minutes-remaining"><a href="#stuck-at-2-minutes-remaining" class="header-anchor">#</a> Stuck at 2 minutes remaining</h2> <p><img src="/assets/img/2-min-remaining.aca72475.jpeg" alt=""></p> <p>This error is directly related to the stage at which macOS will write certain NVRAM variables for your system to boot next, and so when there's issues revolving around NVRAM it'll stall here.</p> <p>To resolve, we have a few options:</p> <ul><li>300 series Intel Fix(ie. Z390):
<ul><li><a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer">SSDT-PMC<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li>Others can set the following in their config.plist:
<ul><li>LegacyEnable -&gt; YES</li> <li>LegacyOverwrite -&gt; YES</li> <li>WriteFlash -&gt; YES</li></ul></li></ul> <h2 id="the-recovery-server-cannot-get-contacted"><a href="#the-recovery-server-cannot-get-contacted" class="header-anchor">#</a> The recovery server cannot get contacted</h2> <p>If you made your installer in Windows or Linux, then this means your USB installer is recovery based. What this means is that only a small portion of the macOS installer is on disk while the rest must be downloaded from Apple servers in the installer. And reason we do not include full installer guides is due to unstable HFS drivers and other utilities that commonly end up with data corruption.</p> <p>To resolve the error, you have a few options:</p> <ul><li>Ensure you have a working Ethernet or WiFi connection
<ul><li>Open <code>Network Utility</code> under <code>Utilties</code> header in the installer and see if your Network Card shows up
<ul><li>If you network card <strong>doesn't</strong> show up, it's likely you're missing the right Network kext
<ul><li>Please refer here: <a href="/ktext.html#ethernet">Ethernet Kexts</a> and <a href="/find-hardware.html">Finding your hardware</a></li></ul></li> <li>If the network card <strong>does</strong> show up, next run <code>ping -c3 www.google.com</code> in the installer's terminal to ensure your network connection is working
<ul><li>If nothing shows, either your network or kexts are acting up
<ul><li>We recommend trying older variants of kexts in cases where newer builds have weird bugs with your hardware</li></ul></li> <li>If it does return something, then the issue is on Apple's end. You'll simply need to try to install again another time unfortunately</li></ul></li></ul></li></ul></li></ul> <table><thead><tr><th style="text-align:left;">Check NIC</th> <th style="text-align:left;">Ping</th></tr></thead> <tbody><tr><td style="text-align:left;"><img src="/assets/img/check-network.1589d634.png" alt=""></td> <td style="text-align:left;"><img src="/assets/img/ping.14fc994b.png" alt="Ping"></td></tr></tbody></table> <h2 id="keyboard-and-mouse-broken-in-big-sur"><a href="#keyboard-and-mouse-broken-in-big-sur" class="header-anchor">#</a> Keyboard and Mouse broken in Big Sur</h2> <p>For certain legacy systems(ie. Core2 Duo/2010 and older), you may notice that while the USB ports work your HID-based devices such as the keyboard and mouse may be broken. To resolve this, add the following patch:</p> <details class="custom-block details"><summary>IOHIDFamily Patch</summary> <p>config.plist -&gt; Kernel -&gt; Patch:</p> <table><thead><tr><th style="text-align:left;">Key</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Value</th></tr></thead> <tbody><tr><td style="text-align:left;">Base</td> <td style="text-align:left;">String</td> <td style="text-align:left;">_isSingleUser</td></tr> <tr><td style="text-align:left;">Count</td> <td style="text-align:left;">Integer</td> <td style="text-align:left;">1</td></tr> <tr><td style="text-align:left;">Enabled</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">True</td></tr> <tr><td style="text-align:left;">Find</td> <td style="text-align:left;">Data</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">Identifier</td> <td style="text-align:left;">String</td> <td style="text-align:left;">com.apple.iokit.IOHIDFamily</td></tr> <tr><td style="text-align:left;">Limit</td> <td style="text-align:left;">Integer</td> <td style="text-align:left;">0</td></tr> <tr><td style="text-align:left;">Mask</td> <td style="text-align:left;">Data</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">MaxKernel</td> <td style="text-align:left;">String</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">MinKernel</td> <td style="text-align:left;">String</td> <td style="text-align:left;">20.0.0</td></tr> <tr><td style="text-align:left;">Replace</td> <td style="text-align:left;">Data</td> <td style="text-align:left;"><code>B801000000C3</code></td></tr> <tr><td style="text-align:left;">ReplaceMask</td> <td style="text-align:left;">Data</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">Skip</td> <td style="text-align:left;">Integer</td> <td style="text-align:left;">0</td></tr></tbody></table> <p><a href="https://applelife.ru/threads/ustanovka-macos-big-sur-11-0-beta-na-intel-pc-old.2944999/page-81#post-884400" target="_blank" rel="noopener noreferrer">Source<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></details> <h2 id="stuck-on-your-mac-needs-a-firmware-update-in-order-to-install-to-this-volume"><a href="#stuck-on-your-mac-needs-a-firmware-update-in-order-to-install-to-this-volume" class="header-anchor">#</a> Stuck on <code>Your Mac needs a firmware update in order to install to this volume</code></h2> <p>If you're being prompted to update your firmware to install with an APFS volume, this likely indicates an outdated SMBIOS table. First, verify the following:</p> <ul><li>You have <code>PlatformInfo -&gt; Automatic</code> enabled</li> <li><code>UpdateSMBIOSMode</code> is set to <code>Create</code> <ul><li>Make sure <code>CustomSMBIOSGuid</code> is disabled</li> <li>For Dell and VAIO machines, ensure that <code>CustomSMBIOSGuid</code> is enabled and <code>UpdateSMBIOSMode</code> is set to <code>Custom</code> instead
<ul><li><code>CustomSMBIOSGuid</code> and <code>UpdateSMBIOSMode</code> should always be in tandem with each other</li></ul></li></ul></li> <li>Using a SMBIOS supported in this version of macOS
<ul><li>ie. you're not using <code>-no_compat_check</code></li></ul></li> <li>You're using the latest version of OpenCore</li></ul> <p>If you still receive this error, then there's likely some outdated SMBIOS info in OpenCore itself. We recommend changing to a similar SMBIOS and see if this is resolved. For a full list of SMBIOS, see here: <a href="/extras/smbios-support.html">Choosing the right SMBIOS</a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4a0df197.js" defer></script><script src="/assets/js/3.b17cd5bb.js" defer></script><script src="/assets/js/39.7a53fcb8.js" defer></script>
  </body>
</html>
